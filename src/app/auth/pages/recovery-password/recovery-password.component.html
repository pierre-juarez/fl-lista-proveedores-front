<!-- src/app/login/login.component.html -->
<div class="login-container">
  <div class="login-card">

    <div class="logo-container">
      <svg width="140" height="44" viewBox="0 0 193 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15.3126 0.572998V5.18758H5.09904V9.79696H14.547V14.4063H5.09904V23.2449H0.104248V0.572998H15.3126Z" fill="#3A2050"/>
        <path d="M28.6667 1.552C22.9479 1.552 18.3125 6.19263 18.3125 11.9062C18.3125 17.6249 22.9479 22.2655 28.6667 22.2655C34.3854 22.2655 39.0208 17.6249 39.0208 11.9062C39.0208 6.19263 34.3854 1.552 28.6667 1.552ZM28.6667 17.6614C25.4896 17.6614 22.9167 15.0833 22.9167 11.9062C22.9167 8.73429 25.4896 6.16138 28.6667 6.16138C31.8438 6.16138 34.4167 8.73429 34.4167 11.9062C34.4167 15.0833 31.8438 17.6614 28.6667 17.6614Z" fill="#E73743"/>
        <path d="M53.9325 0C47.3543 0 42.021 5.32812 42.021 11.9115C42.021 18.4844 47.3543 23.8177 53.9325 23.8177C60.5106 23.8177 65.8439 18.4844 65.8439 11.9115C65.8439 5.32812 60.5106 0 53.9325 0ZM53.9325 19.2135C49.9012 19.2135 46.6304 15.9427 46.6304 11.9115C46.6304 7.875 49.9012 4.60417 53.9325 4.60417C57.9689 4.60417 61.2397 7.875 61.2397 11.9115C61.2397 15.9427 57.9689 19.2135 53.9325 19.2135Z" fill="#E73743"/>
        <path d="M75.3125 4.99487H68.8438V0.572998H86.776V4.99487H80.3073V23.2449H75.3125V4.99487Z" fill="#3A2050"/>
        <path d="M89.7761 0.572998H94.7709V18.6303H104.026V23.2449H89.7761V0.572998Z" fill="#3A2050"/>
        <path d="M117.385 1.552C111.667 1.552 107.026 6.19263 107.026 11.9062C107.026 17.6249 111.667 22.2655 117.385 22.2655C123.104 22.2655 127.74 17.6249 127.74 11.9062C127.74 6.19263 123.104 1.552 117.385 1.552ZM117.385 17.6614C114.208 17.6614 111.635 15.0833 111.635 11.9062C111.635 8.73429 114.208 6.16138 117.385 6.16138C120.557 6.16138 123.13 8.73429 123.13 11.9062C123.13 15.0833 120.557 17.6614 117.385 17.6614Z" fill="#E73743"/>
        <path d="M142.646 0C136.073 0 130.74 5.32812 130.74 11.9115C130.74 18.4844 136.073 23.8177 142.646 23.8177C149.224 23.8177 154.557 18.4844 154.557 11.9115C154.557 5.32812 149.224 0 142.646 0ZM142.646 19.2135C138.615 19.2135 135.344 15.9427 135.344 11.9115C135.344 7.875 138.615 4.60417 142.646 4.60417C146.682 4.60417 149.953 7.875 149.953 11.9115C149.953 15.9427 146.682 19.2135 142.646 19.2135Z" fill="#E73743"/>
        <path d="M170.464 6.11458C170.057 5.60417 169.505 5.22396 168.813 4.97917C168.12 4.73438 167.464 4.60938 166.844 4.60938C166.479 4.60938 166.109 4.65104 165.724 4.73958C165.339 4.82292 164.974 4.95833 164.635 5.13542C164.292 5.31771 164.016 5.55729 163.802 5.85938C163.589 6.15625 163.479 6.52083 163.479 6.94792C163.479 7.63021 163.74 8.15104 164.25 8.51562C164.76 8.88021 165.406 9.1875 166.188 9.44271C166.964 9.69792 167.802 9.95833 168.698 10.2135C169.599 10.4688 170.432 10.8333 171.214 11.3021C171.99 11.7708 172.641 12.401 173.151 13.1875C173.662 13.9792 173.917 15.0365 173.917 16.3594C173.917 17.6198 173.682 18.7188 173.214 19.6562C172.745 20.599 172.109 21.375 171.307 21.9948C170.51 22.6146 169.583 23.0729 168.526 23.3698C167.469 23.6719 166.354 23.8177 165.177 23.8177C163.703 23.8177 162.339 23.5938 161.078 23.1458C159.818 22.6979 158.646 21.974 157.557 20.9688L161.115 17.0625C161.625 17.7448 162.271 18.276 163.052 18.651C163.828 19.0208 164.635 19.2083 165.469 19.2083C165.87 19.2083 166.281 19.1615 166.698 19.0625C167.115 18.9688 167.49 18.8229 167.818 18.6302C168.151 18.4427 168.417 18.1927 168.62 17.8958C168.823 17.599 168.922 17.2448 168.922 16.8385C168.922 16.1562 168.662 15.6198 168.141 15.224C167.62 14.8281 166.958 14.4948 166.172 14.2135C165.38 13.9375 164.526 13.6615 163.609 13.3802C162.693 13.1042 161.839 12.7292 161.047 12.2604C160.26 11.7917 159.604 11.1719 159.078 10.4062C158.557 9.63542 158.297 8.61979 158.297 7.36458C158.297 6.14583 158.537 5.07812 159.016 4.16146C159.495 3.24479 160.135 2.47396 160.938 1.85417C161.734 1.23437 162.662 0.770834 163.703 0.463542C164.75 0.15625 165.828 0 166.943 0C168.219 0 169.458 0.182292 170.651 0.541667C171.849 0.906251 172.927 1.51562 173.885 2.36458L170.464 6.11458Z" fill="#3A2050"/>
        <path d="M176.917 0.572998H192.318V5.18758H181.912V9.41154H191.745V14.0209H181.912V18.6303H192.896V23.2449H176.917V0.572998Z" fill="#3A2050"/>
        </svg>
    </div>

    <!-- Título Login -->
    <h2 class="login-title">Sistema de Rebates</h2>
    <h6 class="login-subtitle">Recupera tu contraseña ahora</h6>

    <!-- Formulario de login -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form" autocomplete="on">
      <div class="input-group">
        <span class="input-icon">
          <i class="fas fa-user"></i> <!-- Ícono de usuario -->
        </span>
        <input matInput type="text" placeholder="Código de usuario" required formControlName="code" class="border-black"  (input)="onInputChange($event)" class="input-login"/>
      </div>
      <div class="input-group">
        <span class="input-icon">
          <i class="fas fa-lock"></i> <!-- Ícono de candado -->
        </span>
        <input matInput [type]="showPassword ? 'text' : 'password'"
        id="password" required formControlName="password" placeholder="Nueva contraseña" class="input-login"/>

        <span (click)="togglePasswordVisibility()" class="icon-eye">
          <i class="fa-solid {{ showPassword ? 'fa-eye-slash' : 'fa-eye' }}"></i>
        </span>
      </div>

      <div class="input-group">
        <span class="input-icon">
          <i class="fas fa-lock"></i> <!-- Ícono de candado -->
        </span>
        <input matInput [type]="showPassword ? 'text' : 'password'"
        id="password" required formControlName="confirmPassword" placeholder="Confirma tu contraseña" class="input-login"
        [class.border-red-500]="
        loginForm.get('confirmPassword')?.invalid && loginForm.get('confirmPassword')?.touched ||
        loginForm.errors?.['passwordsMismatch']
      "
        />
        <span (click)="togglePasswordVisibility()" class="icon-eye">
          <i class="fa-solid {{ showPassword ? 'fa-eye-slash' : 'fa-eye' }}"></i>
        </span>
      </div>
      <p  *ngIf="loginForm.errors?.['passwordsMismatch']" class="error-labels">
        Las contraseñas no coinciden.
      </p>

      <button class="custom-button" (click)="onSubmit()">Reestablecer contraseña</button>

      <div class="forgot-password">
        <a (click)="onBack()">Volver</a>
      </div>
    </form>
  </div>
</div>
